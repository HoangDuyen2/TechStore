<html lang="en">

<meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
<head th:replace="web/fragments/head :: head('TechStore - Giỏ hàng')"></head>
<title>TechStore - Home</title>
<body>
<!-- header-area start -->
<div th:insert="~{web/fragments/header::header}"></div>
<!-- header end -->
<div th:insert="~{web/fragments/main_menu::main-menu}"></div>
<main>
    <!-- breadcrumb start -->
    <section class="breadcrumb-area">
        <div class="container">
            <div class="col">
                <div class="row">
                    <div class="breadcrumb-index">
                        <!-- breadcrumb-list start -->
                        <ul class="breadcrumb-ul">
                            <li class="breadcrumb-li">
                                <a class="breadcrumb-link" href="index1.html">Home</a>
                            </li>
                            <li class="breadcrumb-li">
                                <span class="breadcrumb-text">Your shopping cart</span>
                            </li>
                        </ul>
                        <!-- breadcrumb-list end -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- breadcrumb end -->
    <!-- cart-page start -->
    <section class="cart-page section-ptb"
             th:if="${cart == null||(cart.activeDetails.size() + cart.inactiveDetails.size() == 0)}">
        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="empty-cart-page">
                        <div class="section-capture">
                            <div class="section-title">
                                <h2><span>Cart empty</span></h2>
                                <img th:src="@{/web/assert/image/home1/cart/empty-cart.png}">
                                <p>Sorry your cart has currently no more products, click on 'here' given below for
                                    continue browsing.</p>
                                <p>Continue browsing
                                    <a th:href="@{/products}">here</a>.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="cart-page section-ptb"
             th:unless="${cart == null||(cart.activeDetails.size() + cart.inactiveDetails.size() == 0)}">
        <form>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="cart-page-wrap">
                            <div class="cart-wrap-info">
                                <div class="cart-item-wrap">
                                    <div class="cart-title" data-animate="animate__fadeInUp">
                                        <h6>My cart:</h6>
                                        <span class="cart-count">
                                                    <span class="cart-counter"
                                                          th:text="${cart.activeDetails.size()  + cart.inactiveDetails.size()} "></span>
                                                    <span class="cart-item-title"> Item</span>
                                                </span>
                                    </div>
                                    <div class="item-wrap" th:each="eachCart : ${cart.activeDetails}">
                                        <ul class="cart-wrap" th:data-product-id="${eachCart.product.id}">
                                            <!-- cart-info start -->
                                            <li class="item-info" data-animate="animate__fadeInUp">
                                                <!-- Thêm checkbox vào đây -->
                                                <input type="checkbox" class="cart-checkbox" style="margin: 10px"
                                                       onchange="toggleOrderButton()"/>
                                                <!-- cart-img start -->
                                                <div class="item-img">
                                                    <a href="product-template.html">
                                                        <img th:src="${eachCart.product.getThumbnail()}"
                                                             class="img-fluid" alt="p-1">
                                                    </a>
                                                </div>
                                                <!-- cart-img end -->
                                                <!-- cart-title start -->
                                                <div class="item-text">
                                                    <a href="product-template.html"
                                                       th:text="${eachCart.product.name}"></a>
                                                    <span class="item-option">
                                                            <span class="item-title">OS:</span>
                                                            <span class="item-type"
                                                                  th:text="${eachCart.product.operatingSystem}"></span>
                                                        </span>
                                                    <span class="item-option">
                                                            <span class="item-price"
                                                                  th:text="${eachCart.product.price}"></span>
                                                        </span>
                                                </div>
                                                <!-- cart-title send -->
                                            </li>
                                            <!-- cart-info end -->

                                            <!-- cart-qty start -->
                                            <li class="item-qty" data-animate="animate__fadeInUp">
                                                <div class="product-quantity-action">
                                                    <div class="product-quantity">
                                                        <div class="cart-plus-minus">
                                                            <button class="dec qtybutton minus"
                                                                    onclick="decreaseQuantity(this)">
                                                                <i class="fa-solid fa-minus"></i>
                                                            </button>
                                                            <input type="text" name="quantity"
                                                                   th:value="${eachCart.quantity}" min="1">
                                                            <button class="inc qtybutton plus"
                                                                    onclick="increaseQuantity(this)">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="item-remove">
            <span class="remove-wrap">
                <a href="javascript:void(0)" class="text-danger" onclick="deleteItem(this)">Remove</a>
            </span>
                                                </div>
                                            </li>
                                            <!-- cart-qty end -->

                                            <!-- cart-price start -->
                                            <li class="item-price" data-animate="animate__fadeInUp">
                                                <span class="amount full-price"
                                                      th:text="${eachCart.totalPriceRow}"></span>
                                            </li>
                                            <!-- cart-price end -->
                                        </ul>
                                    </div>
                                    <div class="item-wrap" th:each="eachCart : ${cart.inactiveDetails}">
                                        <ul class="cart-wrap disabled-item" th:data-product-id="${eachCart.product.id}">
                                            <!-- cart-info start -->
                                            <li class="item-info" data-animate="animate__fadeInUp">
                                                <!-- cart-img start -->
                                                <div class="item-img">
                                                    <a href="product-template.html">
                                                        <img th:src="${eachCart.product.getThumbnail()}"
                                                             class="img-fluid" alt="p-1">
                                                    </a>
                                                </div>
                                                <!-- cart-img end -->
                                                <!-- cart-title start -->
                                                <div class="item-text">
                                                    <a href="product-template.html"
                                                       th:text="${eachCart.product.name}"></a>
                                                    <span class="item-option">
                                                            <span class="item-title">OS:</span>
                                                            <span class="item-type"
                                                                  th:text="${eachCart.product.operatingSystem}"></span>
                                                        </span>
                                                    <span class="item-option">
                                                            <span class="item-price"
                                                                  th:text="${eachCart.product.price}"></span>
                                                        </span>
                                                </div>
                                                <!-- cart-title send -->
                                            </li>
                                            <!-- cart-info end -->

                                            <!-- cart-qty start -->
                                            <li class="item-qty" data-animate="animate__fadeInUp">
                                                <div class="product-quantity-action">
                                                    <div class="product-quantity">
                                                        <div class="cart-plus-minus">
                                                            <button class="dec qtybutton minus"
                                                                    onclick="decreaseQuantity(this)">
                                                                <i class="fa-solid fa-minus"></i>
                                                            </button>
                                                            <input type="text" name="quantity"
                                                                   th:value="${eachCart.quantity}" min="1">
                                                            <button class="inc qtybutton plus"
                                                                    onclick="increaseQuantity(this)">
                                                                <i class="fa-solid fa-plus"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="item-remove">
                                                            <span class="remove-wrap">
                                                                <a href="javascript:void(0)" class="text-danger"
                                                                   onclick="deleteItem(this)">Remove</a>
                                                            </span>
                                                </div>
                                            </li>
                                            <!-- cart-qty end -->

                                            <!-- cart-price start -->
                                            <li class="item-price" data-animate="animate__fadeInUp">
                                                <span class="amount full-price"
                                                      th:text="${eachCart.totalPriceRow}"></span>
                                            </li>
                                            <!-- cart-price end -->
                                        </ul>
                                    </div>
                                    <div class="cart-buttons" data-animate="animate__fadeInUp">
                                        <a th:href="@{/products}" class="btn-style2">Continue shopping</a>
                                        <a th:href="@{/delete-all}" class="btn-style2">Clear cart</a>
                                    </div>
                                    <div style="margin-top: 20px; text-align: center;">
                                        <button id="orderButton" class="btn-style2"
                                                onclick="proceedToCheckout(event)"
                                                style="display: none;">Order</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </section>
    <!-- cart-page end -->
    <!-- product-tranding start -->
    <section class="Trending-product bg-color section-ptb">
        <div class="collection-category">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="section-capture">
                            <div class="section-title">
                                <h2><span>Recent products</span></h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="collection-wrap">
                            <div class="collection-slider swiper" id="new-product">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide" data-animate="animate__fadeInUp"
                                         th:each="product : ${productHomeTrending}">
                                        <div class="single-product-wrap">
                                            <div class="product-image">
                                                <a href="product-template.html" class="pro-img">
                                                    <img th:src="${product.thumbnail}" class="img-fluid img1 resp-img1"
                                                         alt="p-1">
                                                    <img th:src="${product.thumbnail}" class="img-fluid img2 resp-img2"
                                                         alt="p-2">
                                                </a>
                                                <div class="product-action">
                                                    <a href="#" class="quickview" th:data-product-id="${product.getId()}">
                                                        <span class="product-icon"><i class="feather-eye"></i></span>
                                                        <span class="tooltip-text">quickview</span>
                                                    </a>
                                                </div>
                                                <!-- Thêm thuộc tính xác thực -->
                                                <div th:attr="data-authenticated=${user != null}"></div>
                                                <div class="product-cart">
                                                    <button type="button" class="add-to-cart"
                                                            th:attr="data-product-id=${product.id}"
                                                            onclick="addToCart(this)">
                                                <span class="product-icon">
                                                    <span class="product-bag-icon"><i class="feather-shopping-bag"></i></span>
                                                    <span class="product-loader-icon"><i class="feather-loader"></i></span>
                                                    <span class="product-check-icon"><i class="feather-check"></i></span>
                                                </span>
                                                    </button>
                                                </div>

                                            </div>
                                            <div class="product-content">
                                                <div class="product-title">
                                                    <h6><a th:href="@{/products/{id}(id=${product.id})}" th:text="${product.name}"></a></h6>
                                                </div>
                                                <div class="price-box">
                                                    <span class="new-price" th:text="'' + ${product.price}"></span>
                                                    <!--                                            <span class="old-price">$70.00</span>-->
                                                </div>
                                                <div class="product-ratting">
                                                    <span class="review-ratting">
                                                        <span class="review-star">
                                                            <span th:if="${product.getStars() > 0}">
                                                                <span th:each="i : ${#numbers.sequence(1, product.stars)}">
                                                                    <i class="fas fa-star"></i>
                                                                </span>
                                                            </span>
                                                            <span th:if="${product.getStars() < 5}">
                                                                <span th:each="i : ${#numbers.sequence(1, 5 - product.stars)}">
                                                                    <i class="feather-star"></i>
                                                                </span>
                                                            </span>
                                                        </span>
                                                        <span class="review-caption">No reviews</span>
                                                    </span>
                                                </div>
                                                <div class="product-description">
                                                    <p th:text="${product.description}"></p>
                                                </div>
                                                <div class="product-action">
                                                    <a th:href="@{/add-cart}" class="add-to-cart">
                                                        <span class="product-icon">
                                                            <span class="product-bag-icon"><i
                                                                    class="feather-shopping-bag"></i></span>
                                                            <span class="product-loader-icon"><i
                                                                    class="feather-loader"></i></span>
                                                            <span class="product-check-icon"><i
                                                                    class="feather-check"></i></span>
                                                        </span>
                                                        <span class="tooltip-text">add to cart</span>
                                                    </a>
                                                    <a href="#quickview-modal" data-bs-toggle="modal" class="quick-view">
                                                        <span class="product-icon"><i class="feather-eye"></i></span>
                                                        <span class="tooltip-text">quickview</span>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="collection-button" data-animate="animate__fadeInUp">
                                    <a th:href="@{/products}" class="btn-style3">view more</a>
                                </div>
                            </div>
                            <div class="swiper-buttons">
                                <div class="swiper-buttons-wrap">
                                    <button class="swiper-prev swiper-prev-new"><i class="feather-arrow-left"></i></button>
                                    <button class="swiper-next swiper-next-new"><i class="feather-arrow-right"></i></button>
                                </div>
                            </div>
                            <div class="swiper-dots">
                                <div class="swiper-pagination swiper-pagination-new"></div>
                            </div>
                        </div>
                        <div class="swiper-dots">
                            <div class="swiper-pagination swiper-pagination-new"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- product-tranding end -->
    <!-- news-letter start -->
    <div th:insert="~{web/fragments/newsletter::newsletter}"></div>
    <!-- news-letter end -->
</main>
<!-- main end -->
<!-- footer start -->
<div th:insert="~{web/fragments/footer::footer}"></div>
<!-- footer end -->
<!-- quickview modal start -->
<div class="modal fade quickview-modal" id="quickview-modal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="quickview-content"></div>
            </div>
        </div>
    </div>
</div>        <!-- quickview.html-modal end -->
<!-- quickview modal end -->
<!-- mobile-menu start -->
<div class="mobile-menu" id="mobile-menu">
    <div class="mobile-contents">
        <div class="menu-close">
            <button class="menu-close-btn">
                <span class="menu-close-icon"><i class="feather-x"></i></span>
            </button>
        </div>
        <div class="header-contact">
            <div class="mobilemenu-content">
                <div class="main-wrap">
                    <ul class="main-menu">
                        <li class="menu-link">
                            <a href="#menu-home" class="link-title" data-bs-toggle="collapse" aria-expanded="false">
                                <span class="sp-link-title">Home</span>
                                <span class="menu-arrow"><i class="feather-plus"></i></span>
                            </a>
                            <div class="menu-dropdown menu-single collapse" id="menu-home">
                                <ul class="ul">
                                    <li class="menusingle-li">
                                        <a href="index1.html" class="menusingle-title">
                                            <span class="sp-link-title">Home 01</span>
                                        </a>
                                    </li>
                                    <li class="menusingle-li">
                                        <a href="index2.html" class="menusingle-title">
                                            <span class="sp-link-title">Home 02</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-link">
                            <a href="#menu-shop-banner" class="link-title" data-bs-toggle="collapse"
                               aria-expanded="false">
                                <span class="sp-link-title">Shop</span>
                                <span class="menu-arrow"><i class="feather-plus"></i></span>
                            </a>
                            <div class="menu-dropdown menu-banner collapse" id="menu-shop-banner">
                                <ul class="ul container p-0">
                                    <li class="menubanner-li">
                                        <div class="menubanner-img banner-hover">
                                            <a href="collection.html" class="collection-img banner-img">
                                                <img th:src="@{/web/assert/image/home1/menu-banner/menubanner-1.jpg}"
                                                     class="img-fluid" alt="menubanner-1">
                                            </a>
                                            <a href="collection.html" class="collection-title">
                                                <span>New collection</span>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="menubanner-li">
                                        <div class="menubanner-img banner-hover">
                                            <a href="collection.html" class="collection-img banner-img">
                                                <img th:src="@{/web/assert/image/home1/menu-banner/menubanner-2.jpg}"
                                                     class="img-fluid" alt="menubanner-2">
                                            </a>
                                            <a href="collection.html" class="collection-title">
                                                <span>Best collection</span>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="menubanner-li">
                                        <div class="menubanner-img banner-hover">
                                            <a href="collection.html" class="collection-img banner-img">
                                                <img th:src="@{/web/assert/image/home1/menu-banner/menubanner-3.jpg}"
                                                     class="img-fluid" alt="menubanner-3">
                                            </a>
                                            <a href="collection.html" class="collection-title">
                                                <span>Sale collection</span>
                                            </a>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-link">
                            <a href="#menu-collection" class="link-title" data-bs-toggle="collapse"
                               aria-expanded="false">
                                <span class="sp-link-title">Collection</span>
                                <span class="menu-arrow"><i class="feather-plus"></i></span>
                            </a>
                            <div class="menu-dropdown menu-mega collapse" id="menu-collection">
                                <ul class="ul container p-0">
                                    <li class="menumega-li shop-li">
                                        <div class="shop-title">
                                            <a href="collection-without.html">
                                                <span class="sp-link-title">Collection</span>
                                            </a>
                                            <a href="collection.html">
                                                <span class="sp-link-title">Collection left</span>
                                            </a>
                                            <a href="collection-right.html">
                                                <span class="sp-link-title">Collection right</span>
                                            </a>
                                            <a href="collection-list-without.html">
                                                <span class="sp-link-title">Collection list</span>
                                            </a>
                                            <a href="collection-list.html">
                                                <span class="sp-link-title">Collection list left</span>
                                            </a>
                                            <a href="collection-list-right.html">
                                                <span class="sp-link-title">Collection list right</span>
                                            </a>
                                        </div>
                                    </li>
                                    <li class="menumega-li">
                                        <a href="#menu-product" class="menumega-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Product page</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menumegasup-dropdown collapse" id="menu-product">
                                            <ul class="menumegasup-ul">
                                                <li class="menumegasup-li">
                                                    <a href="product-template.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Product style 1</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="product-template2.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Product style 2</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="product-template3.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Product style 3</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="product-template4.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Product style 4</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="product-template5.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Product style 5</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="product-template6.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Product style 6</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="menumega-li">
                                        <a href="#menu-shop1" class="menumega-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Shop page</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menumegasup-dropdown collapse" id="menu-shop1">
                                            <ul class="menumegasup-ul">
                                                <li class="menumegasup-li">
                                                    <a href="cart-page.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Cart page</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="cart-empty.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Cart empty</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="wishlist-empty.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Wishlist empty</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="wishlist-product.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Wishlist product</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="return-policy.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Order & returns</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="login-account.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Manage account</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="collection.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Saved items</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="menumega-li">
                                        <a href="#menu-shop2" class="menumega-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Account page</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menumegasup-dropdown collapse" id="menu-shop2">
                                            <ul class="menumegasup-ul">
                                                <li class="menumegasup-li">
                                                    <a href="order-history.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Order</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="profile.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Profile</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="pro-address.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Address</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="change-password.html" class="menumegasup-title">
                                                        <span class="sp-link-title">Change password</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="pro-tickets.html" class="menumegasup-title">
                                                        <span class="sp-link-title">My ticket</span>
                                                    </a>
                                                </li>
                                                <li class="menumegasup-li">
                                                    <a href="login-account.html" class="menumegasup-title">
                                                        <span class="sp-link-title">My account</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-link">
                            <a href="#menu-blog" class="link-title" data-bs-toggle="collapse" aria-expanded="false">
                                <span class="sp-link-title">Blog</span>
                                <span class="menu-arrow"><i class="feather-plus"></i></span>
                            </a>
                            <div class="menu-dropdown menu-single collapse" id="menu-blog">
                                <ul class="ul">
                                    <li class="menusingle-li">
                                        <a href="blog-grid-without.html" class="menusingle-title">
                                            <span class="sp-link-title">Blog grid</span>
                                        </a>
                                    </li>
                                    <li class="menusingle-li">
                                        <a href="blog-grid.html" class="menusingle-title">
                                            <span class="sp-link-title">Blog grid left</span>
                                        </a>
                                    </li>
                                    <li class="menusingle-li">
                                        <a href="blog-grid-right.html" class="menusingle-title">
                                            <span class="sp-link-title">Blog grid right</span>
                                        </a>
                                    </li>
                                    <li class="menusingle-li">
                                        <a href="article-post-without.html" class="menusingle-title">
                                            <span class="sp-link-title">Article post</span>
                                        </a>
                                    </li>
                                    <li class="menusingle-li">
                                        <a href="article-post.html" class="menusingle-title">
                                            <span class="sp-link-title">Article post left</span>
                                        </a>
                                    </li>
                                    <li class="menusingle-li">
                                        <a href="article-post-right.html" class="menusingle-title">
                                            <span class="sp-link-title">Article post right</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-link">
                            <a href="#menu-sub" class="link-title" data-bs-toggle="collapse" aria-expanded="false">
                                <span class="sp-link-title">Pages</span>
                                <span class="menu-arrow"><i class="feather-plus"></i></span>
                            </a>
                            <div class="menu-dropdown menu-sub collapse" id="menu-sub">
                                <ul class="ul">
                                    <li class="menusub-li">
                                        <a href="about-us.html" class="menusub-title">
                                            <span class="sp-link-title">About us</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="#menu-sup-account" class="menusub-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Account</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menusup-dropdown collapse" id="menu-sup-account">
                                            <ul class="menusup-ul">
                                                <li class="menusup-li">
                                                    <a href="login-account.html" class="menusup-title">
                                                        <span class="sp-link-title">Login</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="register.html" class="menusup-title">
                                                        <span class="sp-link-title">Register</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="billing-info.html" class="menusub-title">
                                            <span class="sp-link-title">Billing info</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="#menu-sup-contact" class="menusub-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Contact us</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menusup-dropdown collapse" id="menu-sup-contact">
                                            <ul class="menusup-ul">
                                                <li class="menusup-li">
                                                    <a href="contact-us.html" class="menusup-title">
                                                        <span class="sp-link-title">Contact us</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="contact-us-2.html" class="menusup-title">
                                                        <span class="sp-link-title">Contact us 2</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="#menu-sup-checkout" class="menusub-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Checkout</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menusup-dropdown collapse" id="menu-sup-checkout">
                                            <ul class="menusup-ul">
                                                <li class="menusup-li">
                                                    <a href="checkout-style1.html" class="menusup-title">
                                                        <span class="sp-link-title">Checkout</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="checkout-style2.html" class="menusup-title">
                                                        <span class="sp-link-title">Checkout 2</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="checkout-style3.html" class="menusup-title">
                                                        <span class="sp-link-title">Checkout 3</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="cancellation.html" class="menusub-title">
                                            <span class="sp-link-title">Cancellation</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="faq.html" class="menusub-title">
                                            <span class="sp-link-title">Faq's</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="order-complete.html" class="menusub-title">
                                            <span class="sp-link-title">Order complete</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="#menu-sup-policy" class="menusub-title" data-bs-toggle="collapse"
                                           aria-expanded="false">
                                            <span class="sp-link-title">Policy</span>
                                            <span class="menu-arrow"><i class="feather-plus"></i></span>
                                        </a>
                                        <div class="menusup-dropdown collapse" id="menu-sup-policy">
                                            <ul class="menusup-ul">
                                                <li class="menusup-li">
                                                    <a href="privacy-policyt.html" class="menusup-title">
                                                        <span class="sp-link-title">Privacy policy</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="payment-policy.html" class="menusup-title">
                                                        <span class="sp-link-title">Payment policy</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="return-policy.html" class="menusup-title">
                                                        <span class="sp-link-title">Return policy</span>
                                                    </a>
                                                </li>
                                                <li class="menusup-li">
                                                    <a href="shipping-policy.html" class="menusup-title">
                                                        <span class="sp-link-title">Shipping policy</span>
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="sitemap.html" class="menusub-title">
                                            <span class="sp-link-title">Sitemap</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="terms-condition.html" class="menusub-title">
                                            <span class="sp-link-title">Terms & condition</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="track-page.html" class="menusub-title">
                                            <span class="sp-link-title">Track page</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="404.html" class="menusub-title">
                                            <span class="sp-link-title">404</span>
                                        </a>
                                    </li>
                                    <li class="menusub-li">
                                        <a href="coming-soon.html" class="menusub-title">
                                            <span class="sp-link-title">Coming soon</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-link">
                            <div class="contact-num">
                                <div class="contact-wrap service-line">
                                    <span class="contact-details"><i class="feather-headphones"></i></span>
                                    <a href="tel:+2101234567890">(210) 123 456 7890</a>
                                </div>
                            </div>
                        </li>
                        <li class="menu-link">
                            <div class="contact-wrap price-tag">
                                <span class="contact-details"><i class="feather-tag"></i></span>
                                <a href="collection.html">Mega sale</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- mobile-menu end -->
<!-- cart-drawer start -->
<div th:insert="~{web/fragments/cart_drawer::cart-drawer}"></div>
<!-- cart-drawer end -->
<!-- bottom-menu start -->
<div class="bottom-menu">
    <ul class="bottom-menu-element">
        <li class="bottom-menu-wrap">
            <div class="bottom-menu-wrapper">
                <a href="index1.html" class="bottom-menu-home">
                    <span class="bottom-menu-icon"><i class="feather-home"></i></span>
                    <span class="bottom-menu-title">Home</span>
                </a>
            </div>
        </li>
        <li class="bottom-menu-wrap">
            <div class="bottom-menu-wrapper">
                <a href="account.html" class="bottom-menu-user">
                    <span class="bottom-menu-icon"><i class="feather-user"></i></span>
                    <span class="bottom-menu-title">Account</span>
                </a>
            </div>
        </li>
        <li class="bottom-menu-wrap">
            <div class="bottom-menu-wrapper">
                <a href="collection.html" class="bottom-menu-collection">
                    <span class="bottom-menu-icon"><i class="feather-grid"></i></span>
                    <span class="bottom-menu-title">Shop</span>
                </a>
            </div>
        </li>
        <li class="bottom-menu-wrap">
            <div class="bottom-menu-wrapper">
                <a href="wishlist.html" class="bottom-menu-wishlist">
                            <span class="bottom-menu-icon-wrap">
                                <span class="bottom-menu-icon"><i class="feather-heart"></i></span>
                                <span class="bottom-menu-counter wishlist-counter">5</span>
                            </span>
                    <span class="bottom-menu-title">Wishlist</span>
                </a>
            </div>
        </li>
        <li class="bottom-menu-wrap">
            <div class="bottom-menu-wrapper">
                <a href="javascript:void(0)" class="bottom-menu-cart">
                            <span class="bottom-menu-icon-wrap">
                                <span class="bottom-menu-icon"><i class="feather-shopping-bag"></i></span>
                                <span class="bottom-menu-counter cart-counter">4</span>
                            </span>
                    <span class="bottom-menu-title">Cart</span>
                </a>
            </div>
        </li>
    </ul>
</div>
<!-- bottom-menu end -->
<!-- fullscreen start -->
<div class="bg-screen"></div>
<!-- fullscreen end -->
<!-- back-to-top start -->
<a href="javascript:void(0)" id="top" class="scroll"><span><i class="feather-arrow-up"></i></span></a>
<!-- back-to-top end -->
<!-- plugin js -->

</body>
<script th:src="@{/web/assert/js/plugin.js}"></script>
<!-- theme js -->
<script th:src="@{/web/assert/js/main.js}"></script>
<script>
    // Hàm gọi tới phương thức add-cart
    function increaseQuantity(button) {
        const productId = getProductId(button);  // Lấy productId từ phần tử HTML

        fetch(window.location.origin + "/add-cart?productId=" + productId)
            .then(response => {
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Tăng số lượng thất bại!');
            })
            .then(data => {
                alert(data);
                location.reload();
            })
            .catch(error => {
                console.error('Error:', error);
                alert(error.message);
            });
    }

    // Hàm gọi tới phương thức decrease-cart
    function decreaseQuantity(button) {
        const productId = getProductId(button);  // Lấy productId từ phần tử HTML

        fetch(window.location.origin + "/decrease-cart?productId=" + productId)
            .then(response => {
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Giảm số lượng thất bại!');
            })
            .then(data => {
                alert(data);
                location.reload();
            })
            .catch(error => {
                console.error('Error:', error);
                alert(error.message);
            });
    }

    // Hàm gọi tới phương thức delete-cart
    function deleteItem(link) {
        const productId = getProductId(link);  // Lấy productId từ phần tử HTML

        fetch(window.location.origin + "/delete-cart?productId=" + productId)
            .then(response => {
                if (response.ok) {
                    return response.text();
                }
                throw new Error('Xóa sản phẩm thất bại!');
            })
            .then(data => {
                alert(data);
                location.reload();
            })
            .catch(error => {
                console.error('Error:', error);
                alert(error.message);
            });
    }

    // Hàm lấy productId từ phần tử HTML
    function getProductId(element) {
        const listItem = element.closest('ul');
        const productId = listItem ? listItem.getAttribute('data-product-id') : null;
        console.log('Product ID:', productId);  // Log productId để kiểm tra
        return productId;
    }
</script>
<script>
    function toggleOrderButton() {
        const checkboxes = document.querySelectorAll('.cart-checkbox');
        const orderButton = document.getElementById('orderButton');

        let atLeastOneChecked = false;
        checkboxes.forEach(checkbox => {
            if (checkbox.checked) {
                atLeastOneChecked = true;
            }
        });

        if (atLeastOneChecked) {
            orderButton.style.display = 'inline-block';
        } else {
            orderButton.style.display = 'none';
        }
    }
</script>
<script>
    function proceedToCheckout() {
        // Prevent the default form submission
        event.preventDefault();

        // Get all the checked checkboxes
        const checkedProducts = document.querySelectorAll('.cart-checkbox:checked');

        // Create an array to store the selected product IDs
        const selectedProductIds = [];

        // Extract the product ID from each checked item
        checkedProducts.forEach(checkbox => {
            const cartItem = checkbox.closest('ul.cart-wrap');
            const productId = cartItem ? cartItem.getAttribute('data-product-id') : null;
            if (productId) {
                selectedProductIds.push(productId);
            }
        });

        // If no products are selected, show an alert
        if (selectedProductIds.length === 0) {
            alert('Please select at least one product to checkout');
            return;
        }

        // Create a form element
        const form = document.createElement('form');
        form.method = 'get';
        form.action = '/checkout';

        // Add selected product IDs as hidden inputs
        selectedProductIds.forEach(id => {
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = 'selectedProductIds';
            input.value = id;
            form.appendChild(input);
        });

        // Append the form to the body and submit it
        document.body.appendChild(form);
        form.submit();
    }
</script>
<script th:src="@{/web/assert/js/search-autocomplete.js}"></script>
<script>
    // Quickview functionality
    document.addEventListener('DOMContentLoaded', function() {
        const quickviewButtons = document.querySelectorAll('.quickview');

        quickviewButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const productId = this.getAttribute('data-product-id');

                // Load quickview content
                fetch(`/products/quickview/${productId}`)
                    .then(response => response.text())
                    .then(html => {
                        document.getElementById('quickview-content').innerHTML = html;

                        // Initialize modal
                        const modal = new bootstrap.Modal(document.getElementById('quickview-modal'));
                        modal.show();

                        // Initialize Swiper for quickview slider
                        const galleryThumbs = new Swiper('.gallery-thumbs', {
                            spaceBetween: 10,
                            slidesPerView: 4,
                            freeMode: true,
                            watchSlidesVisibility: true,
                            watchSlidesProgress: true,
                        });

                        const galleryTop = new Swiper('.gallery-top', {
                            spaceBetween: 10,
                            navigation: {
                                nextEl: '.quick-next',
                                prevEl: '.quick-prev',
                            },
                            thumbs: {
                                swiper: galleryThumbs
                            }
                        });
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        alert('Có lỗi xảy ra khi tải quickview!');
                    });
            });
        });
    });
</script>
<script>
    function addToCart(button) {
        const productId = button.getAttribute('data-product-id');

        fetch(`/add-cart?productId=${productId}`, {
            method: 'GET'
        })
            .then(response => {
                if (response.ok) {
                    return response.text(); // lấy nội dung phản hồi
                } else {
                    throw new Error('Thêm thất bại!');
                }
            })
            .then(data => {
                alert(data); // Hiện thông báo "Thêm sản phẩm vào giỏ hàng thành công!"
                location.reload(); // Sau đó reload lại trang
            })
            .catch(error => {
                console.error('Error:', error);
                alert('Có lỗi xảy ra!');
            });
    }
</script>

</html>